jQuery(function(o){var l={init:function(){o(document.body).on("blur","#billing_postcode",function(){l.autofill("billing")}),o(document.body).on("blur","#shipping_postcode",function(){l.autofill("shipping")})},block:function(){o("form.checkout, form#order_review").addClass("processing").block({message:null,overlayCSS:{background:"#fff",opacity:.6}})},unblock:function(){o("form.checkout, form#order_review").removeClass("processing").unblock()},autofill:function(n,e){if(e=e||!1,o("#"+n+"_postcode").length){var i=o("#"+n+"_postcode").val().replace(".","").replace("-",""),r=o("#"+n+"_country").val(),c=o("#"+n+"_address_1").val(),t=WCCorreiosAutofillAddressParams.force==="yes"?!0:c.length===0;i!==""&&i.length===8&&r==="BR"&&t&&(l.block(),o.ajax({type:"GET",url:WCCorreiosAutofillAddressParams.url+"&postcode="+i,dataType:"json",contentType:"application/json",success:function(s){if(s.success&&(l.fillFields(n,s.data),e)){var a=n==="billing"?"shipping":"billing";l.fillFields(a,s.data)}l.unblock()}}))}},fillFields:function(n,e){o("#"+n+"_address_1").val(e.address).change(),o("#"+n+"_neighborhood").length?o("#"+n+"_neighborhood").val(e.neighborhood).change():o("#"+n+"_address_2").val(e.neighborhood).change(),o("#"+n+"_city").val(e.city).change(),o("#"+n+"_state").val(e.state).change()}};l.init()});